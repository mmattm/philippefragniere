(this["webpackJsonpphilippe-fragniere"]=this["webpackJsonpphilippe-fragniere"]||[]).push([[0],{40:function(e,t,a){e.exports=a(84)},45:function(e,t,a){},46:function(e,t,a){},62:function(e,t,a){},84:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(11),i=a.n(r),c=(a(45),a(46),a(10)),s=a(2),o=a(19),u=a(31),m=a.n(u),d=a(86),f=(a(62),a(32));var h=function(e){return e.placeholder,l.a.createElement("div",{className:"loader"},l.a.createElement("div",{className:"spinner"}))};function p(e){var t=e.src,a=e.alt,r=Object(n.useState)(!1),i=Object(c.a)(r,2),s=i[0],o=i[1];return l.a.createElement(n.Suspense,{fallback:l.a.createElement(h,null)},l.a.createElement(f.a,{src:t,alt:a,onLoad:function(){setTimeout((function(){o(!0)}),50)},className:"slide-visual"+(s?" loaded":"")}))}var v=a(34),E=a(36),g=a.n(E);var b=function(e){var t=e.id,a=e.fields;return l.a.createElement(l.a.Fragment,null,l.a.createElement(v.a,null,l.a.createElement("title",null,"Philippe Fragniere ",a.label?" \u2014 "+a.label:"")),l.a.createElement("div",{className:"slide"},l.a.createElement("div",{className:"slide-item",key:t},a.video&&l.a.createElement(g.a,{url:a.video[0].url,playing:!0,loop:!0,playsinline:!0,width:"100%",height:"100%",className:"slide-visual loaded video",config:{file:{attributes:{autoPlay:!0,muted:!0}}}}),a.photo&&!a.video&&l.a.createElement(p,{src:a.photo[0].thumbnails.large.url,alt:a.label}),!a.video&&!a.photo&&"No visuals")))},N=a(37),k=a.n(N),O={default:9,1100:6,700:3,500:2};var j=function(e){var t=e.slides.map((function(t,a){return l.a.createElement("div",{className:"grid-item",key:t.id,onClick:function(){return t=a,e.toggleThumbs(!1),e.setDirection("fade"),void e.setSlide(t);var t}},t.fields.photo?l.a.createElement(p,{src:t.fields.photo[0].thumbnails.large.url,alt:t.fields.label}):"No visuals")}));return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"gallery"},l.a.createElement("div",{className:"gallery-content"},l.a.createElement(k.a,{breakpointCols:O,className:"grid",columnClassName:"grid_column"},t))))};var w=function(e){var t=e.slides,a=e.current,r=e.setSlide,i=e.setDirection,s=Object(n.useState)(!1),o=Object(c.a)(s,2),u=o[0],m=o[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:u?"white":""},u&&l.a.createElement(j,{slides:t,toggleThumbs:m,setDirection:i,setSlide:r}),l.a.createElement("div",{className:"fixed top-left"},l.a.createElement("h1",null,u?l.a.createElement("a",{href:"#"},"Bookings"):"Philippe Fragni\xe8re")),l.a.createElement("div",{className:"fixed top-right"},l.a.createElement("h2",null,l.a.createElement("span",{onClick:function(){return m(!u)},className:"clickable"},u?"Close":"More"))),l.a.createElement("div",{className:"fixed bottom-left"},!u&&a.fields.label&&a.fields.label)))};var S=function(){var e=m()("https://boiling-bastion-11005.herokuapp.com/",{method:"GET"});e.fetched||e.records.forEach((function(e,t){void 0===e.fields.title&&(e.fields.title="v-"+e.id),e.path="/"+function(e){e=(e=e.replace(/^\s+|\s+$/g,"")).toLowerCase();for(var t="\xe0\xe1\xe4\xe2\xe8\xe9\xeb\xea\xec\xed\xef\xee\xf2\xf3\xf6\xf4\xf9\xfa\xfc\xfb\xf1\xe7\xb7/_,:;",a=0,n=t.length;a<n;a++)e=e.replace(new RegExp(t.charAt(a),"g"),"aaaaeeeeiiiioooouuuunc------".charAt(a));return e=e.replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-")}(e.fields.title)}));var t=Object(s.e)(),a=Object(s.f)(),r=Object(n.useState)("fade"),i=Object(c.a)(r,2),o=i[0],u=i[1],f=Object(n.useState)(function(){if("/"!==a.pathname){var t=e.records.findIndex((function(e){return e.path===a.pathname}));return t>=0?t:0}return 0}()),h=Object(c.a)(f,2),p=h[0],v=h[1],E=Object(n.useState)(!1),g=Object(c.a)(E,2),N=g[0],k=g[1];Object(n.useEffect)((function(){e.fetched=!0,t.push({pathname:e.records[p].path})}),[p,t,e]);var O=e.records.map((function(e,t){return l.a.createElement(s.a,{key:t,exact:!0,path:e.path},(function(t){var a=t.match;return l.a.createElement(d.a,{in:null!=a,timeout:800,classNames:"slide",unmountOnExit:!0},l.a.createElement(b,e))}))}));return l.a.createElement(l.a.Fragment,null,l.a.createElement(w,{slides:e.records,current:e.records[p],setDirection:u,setSlide:v}),l.a.createElement("div",{className:"slider "+o+"-transition",onClick:function(t){return!N&&(a=t.clientX<t.view.innerWidth/2?"left":"right",k(!0),setTimeout((function(){k(!1)}),800),v("left"===a?p-1>0?p-1:e.records.length-1:p+1<e.records.length?p+1:0),void u(a));var a}},O))},y=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(o.a,{basename:"/philippefragniere"},l.a.createElement(n.Suspense,{fallback:l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"fixed top-left"},l.a.createElement("h1",null,"Philippe Fragni\xe8re")),l.a.createElement(h,null))},l.a.createElement(S,null))))};var F=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(y,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(l.a.createElement(F,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[40,1,2]]]);
//# sourceMappingURL=main.189b9c57.chunk.js.map